#!/bin/bash
# only no quant
# echo "all original"
# echo " MODE 0 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 0 --try_num 0 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/m0q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi



# echo "threshold 0.95"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.95 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.95/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.95 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.95/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi


# echo "threshold 0.90"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.90 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.9/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.90 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.9/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi


# echo "threshold 0.85"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.85 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.85/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.85 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.85/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi


# echo "threshold 0.80"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.80 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.8/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.80 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.8/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi


# echo "threshold 0.70"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.70 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.7/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.70 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.7/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi


# echo "threshold 0.60"
# echo "MODE 1 "
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 1 --threshold 0.60 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.6/m1q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi
# echo "MODE 2"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 2 --threshold 0.60 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/threshold_0.6/m2q0.txt
# if [ $? -ne 0 ]; then
#     echo "failed"
# fi






# echo " MODE 0 "
# # echo "Running m0q0"
# # CUDA_VISIBLE_DEVICES="0" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "0," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 0 --try_num 0 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments/log/img_score_txt/seed_0/image_reward/m0q0.txt
# # if [ $? -ne 0 ]; then
# #     echo "m0q0 failed"
# # fi

# echo "m0q0 finished, running m0q1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 1 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q1.txt
# if [ $? -ne 0 ]; then
#     echo "m0q1 failed"
# fi

# echo "m0q1 finished, running m0q2"
# CUDA_VISIBLE_DEVICES="2" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "2," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 2 --try_num 2 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q2.txt
# if [ $? -ne 0 ]; then
#     echo "m0q2 failed"
# fi

# echo "m0q2 finished, running m0q3"
# CUDA_VISIBLE_DEVICES="3" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "3," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 3 --try_num 3 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q3.txt
# if [ $? -ne 0 ]; then
#     echo "m0q3 failed"
# fi

# echo "m0q3 finished, running m0q4"
# CUDA_VISIBLE_DEVICES="4" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "4," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 4 --try_num 4 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q4.txt
# if [ $? -ne 0 ]; then
#     echo "m0q4 failed"
# fi

# echo "m0q4 finished, running m0q5"
# CUDA_VISIBLE_DEVICES="5" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "5," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 5 --try_num 5 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q5.txt
# if [ $? -ne 0 ]; then
#     echo "m0q5 failed"
# fi

# echo "m0q5 finished, running m0q10"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 10 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m0q10.txt
# if [ $? -ne 0 ]; then
#     echo "m0q10 failed"
# fi
# echo "m0q10 finished"


# echo " MODE 1 "
# # echo "Running m1q0"
# # CUDA_VISIBLE_DEVICES="0" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "0," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 0 --try_num 7 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q0.txt
# # if [ $? -ne 0 ]; then
# #     echo "m1q0 failed"
# # fi

# echo "m1q0 finished, running m1q1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 1 --try_num 8 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q1.txt
# if [ $? -ne 0 ]; then
#     echo "m1q1 failed"
# fi

# echo "m1q1 finished, running m1q2"
# CUDA_VISIBLE_DEVICES="2" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "2," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 2 --try_num 9 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q2.txt
# if [ $? -ne 0 ]; then
#     echo "m1q2 failed"
# fi

# echo "m1q2 finished, running m1q3"
# CUDA_VISIBLE_DEVICES="3" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "3," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 3 --try_num 10 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q3.txt
# if [ $? -ne 0 ]; then
#     echo "m1q3 failed"
# fi

# echo "m1q3 finished, running m1q4"
# CUDA_VISIBLE_DEVICES="4" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "4," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 4 --try_num 11 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q4.txt
# if [ $? -ne 0 ]; then
#     echo "m1q4 failed"
# fi

# echo "m0q5 finished, running m1q5"
# CUDA_VISIBLE_DEVICES="5" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "5," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 5 --try_num 12 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q5.txt
# if [ $? -ne 0 ]; then
#     echo "m1q5 failed"
# fi

# echo "m0q5 finished, running m1q10"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 10 --try_num 13 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m1q10.txt
# if [ $? -ne 0 ]; then
#     echo "m1q10 failed"
# fi
# echo "m1q10 finished"
# ########################################
# echo " MODE 2"
# # echo "Running m2q0"
# # CUDA_VISIBLE_DEVICES="0" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "0," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 0 --try_num 0 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q0.txt
# # if [ $? -ne 0 ]; then
# #     echo "m2q0 failed"
# # fi

# echo "m2q0 finished, running m2q1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 1 --try_num 1 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q1.txt
# if [ $? -ne 0 ]; then
#     echo "m2q1 failed"
# fi

# echo "m2q1 finished, running m2q2"
# CUDA_VISIBLE_DEVICES="2" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "2," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 2 --try_num 2 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q2.txt
# if [ $? -ne 0 ]; then
#     echo "m2q2 failed"
# fi

# echo "m2q2 finished, running m2q3"
# CUDA_VISIBLE_DEVICES="3" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "3," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 3 --try_num 3 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q3.txt
# if [ $? -ne 0 ]; then
#     echo "m2q3 failed"
# fi

# echo "m0q5 finished, running m2q4"
# CUDA_VISIBLE_DEVICES="4" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "4," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 4 --try_num 4 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q4.txt
# if [ $? -ne 0 ]; then
#     echo "m2q4 failed"
# fi

# echo "m0q5 finished, running m2q5"
# CUDA_VISIBLE_DEVICES="5" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "5," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 5 --try_num 5 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q5.txt
# if [ $? -ne 0 ]; then
#     echo "m2q5 failed"
# fi

# echo "m0q5 finished, running m2q10"
# CUDA_VISIBLE_DEVICES="7" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "7," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 10 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/quant/m2q10.txt
# if [ $? -ne 0 ]; then
#     echo "m2q10 failed"
# fi
# echo "m2q10 finished"
# echo "finish all"



# mix percision
# echo "QUANT 1: W8A8"
# # echo "begin mode 0"
# # CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m0q1.txt
# # if [ $? -ne 0 ]; then
# #     echo "m0q1 failed"
# # fi
# echo "begin mode 1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 1 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m1q1.txt
# if [ $? -ne 0 ]; then
#     echo "m1q1 failed"
# fi
# echo "begin mode 2"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 1 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m2q1.txt
# if [ $? -ne 0 ]; then
#     echo "m2q1 failed"
# fi


# echo "QUANT 3: W6A6"
# echo "begin mode 0"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 3 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m0q3.txt
# if [ $? -ne 0 ]; then
#     echo "m0q3 failed"
# fi
# echo "begin mode 1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 3 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m1q3.txt
# if [ $? -ne 0 ]; then
#     echo "m1q3 failed"
# fi
# echo "begin mode 2"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 3 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m2q3.txt
# if [ $? -ne 0 ]; then
#     echo "m2q3 failed"
# fi


# echo "QUANT 4: W4A8"
# echo "begin mode 0"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 4 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m0q4.txt
# if [ $? -ne 0 ]; then
#     echo "m0q4 failed"
# fi
# echo "begin mode 1"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 1 --pic_num 1000 --seed 0 --quant 4 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m1q4.txt
# if [ $? -ne 0 ]; then
#     echo "m1q4 failed"
# fi
# echo "begin mode 2"
# CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 2 --pic_num 1000 --seed 0 --quant 4 --try_num 6 > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/mix-percision/m2q4.txt
# if [ $? -ne 0 ]; then
#     echo "m2q4 failed"
# fi


# strict layer
echo "MODE 0 W8A8 & W4A4"
echo "strict layer -- word_embed"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 1 --strict "word_embed" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/word_embed.txt
if [ $? -ne 0 ]; then
    echo "word_embed failed"
fi
echo "strict layer -- attn.mat_qkv"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 2 --strict "attn.mat_qkv" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/attn.mat_qkv.txt
if [ $? -ne 0 ]; then
    echo "attn.mat_qkv failed"
fi
echo "strict layer -- attn.proj"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 3 --strict "attn.proj" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/attn.proj.txt
if [ $? -ne 0 ]; then
    echo "attn.proj failed"
fi
echo "strict layer -- ffn.fc1"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 1 --strict "ffn.fc1" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/ffn.fc1.txt
if [ $? -ne 0 ]; then
    echo "ffn.fc1 failed"
fi
echo "strict layer -- ffn.fc2"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 2 --strict "ffn.fc2" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/ffn.fc2.txt
if [ $? -ne 0 ]; then
    echo "ffn.fc2 failed"
fi
echo "strict layer -- ada_lin.1"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 3 --strict "ada_lin.1" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/ada_lin.1.txt
if [ $? -ne 0 ]; then
    echo "ada_lin.1 failed"
fi
echo "strict layer -- head"
CUDA_VISIBLE_DEVICES="1" python /share/public/diffusion_quant/xierui/pythonprogram/VAR/models/img_score_imgreward.py --cuda_devices "1," --model_depth 30 --mode 0 --pic_num 1000 --seed 0 --quant 1 --try_num 1 --strict "head" > /share/public/diffusion_quant/xierui/pythonprogram/VAR/experiments_new/log/img_score_txt/seed_0/image_reward/strict/head.txt
if [ $? -ne 0 ]; then
    echo "head failed"
fi